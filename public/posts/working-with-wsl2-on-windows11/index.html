<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Working With Windows Subsystem for Linux 2 on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes</title>
<meta name=keywords content>
<meta name=description content="Windows Subsystem for Linux (WSL) is a compatibility layer provided by Microsoft that allows you to run a Linux environment directly on your Windows operating system. It enables you to execute Linux binaries, use Linux command-line tools, and access Linux file systems from within Windows.
When it comes to machine learning (ML) development, WSL offers several advantages:
  Linux Compatibility: Many ML frameworks, libraries, and tools are primarily developed and optimized for Linux systems.">
<meta name=author content="Visionbike">
<link rel=canonical href=http://visionbike.github.io/posts/working-with-wsl2-on-windows11/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.77f72eb252297452dcd66ab556630cc6e7e244a2659c39206e3d7c3dd9152a30.css integrity="sha256-d/cuslIpdFLc1mq1VmMMxufiRKJlnDkgbj18PdkVKjA=" rel="preload stylesheet" as=style>
<link rel=icon type=image/png href=/images/favicon.ico>
<link rel=apple-touch-icon href=/images/apple-touch-icon.png>
<link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png>
<meta name=twitter:title content="Working With Windows Subsystem for Linux 2 on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes">
<meta name=twitter:description content="Windows Subsystem for Linux (WSL) is a compatibility layer provided by Microsoft that allows you to run a Linux environment directly on your Windows operating system. It enables you to execute Linux binaries, use Linux command-line tools, and access Linux file systems from within Windows.
When it comes to machine learning (ML) development, WSL offers several advantages:
  Linux Compatibility: Many ML frameworks, libraries, and tools are primarily developed and optimized for Linux systems.">
<meta property="og:title" content="Working With Windows Subsystem for Linux 2 on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes">
<meta property="og:description" content="Windows Subsystem for Linux (WSL) is a compatibility layer provided by Microsoft that allows you to run a Linux environment directly on your Windows operating system. It enables you to execute Linux binaries, use Linux command-line tools, and access Linux file systems from within Windows.
When it comes to machine learning (ML) development, WSL offers several advantages:
  Linux Compatibility: Many ML frameworks, libraries, and tools are primarily developed and optimized for Linux systems.">
<meta property="og:type" content="article">
<meta property="og:url" content="http://visionbike.github.io/posts/working-with-wsl2-on-windows11/">
<meta property="article:section" content="posts">
<meta property="article:published_time" content="2023-07-13T01:35:45+08:00">
<meta property="article:modified_time" content="2023-07-13T01:35:45+08:00">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://visionbike.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Working With Windows Subsystem for Linux 2 on Windows 11","item":"http://visionbike.github.io/posts/working-with-wsl2-on-windows11/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Working With Windows Subsystem for Linux 2 on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes","name":"Working With Windows Subsystem for Linux 2 on Windows 11","description":"Windows Subsystem for Linux (WSL) is a compatibility layer provided by Microsoft that allows you to run a Linux environment directly on your Windows operating system. It enables you to execute Linux binaries, use Linux command-line tools, and access Linux file systems from within Windows.\nWhen it comes to machine learning (ML) development, WSL offers several advantages:\n  Linux Compatibility: Many ML frameworks, libraries, and tools are primarily developed and optimized for Linux systems.","keywords":[],"wordCount":"2068","inLanguage":"en","datePublished":"2023-07-13T01:35:45+08:00","dateModified":"2023-07-13T01:35:45+08:00","author":{"@type":"Person","name":"Visionbike"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://visionbike.github.io/posts/working-with-wsl2-on-windows11/"},"publisher":{"@type":"Organization","name":"Visionbike - Personal Blog of CV | DSP | ML notes","logo":{"@type":"ImageObject","url":"http://visionbike.github.io/favicon.ico"}}}</script>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
</noscript><link rel=stylesheet href=lib/fontawesome-free/all.min.css>
</head>
<body class="dark type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(a){switch(a){case'light':document.body.classList.remove('dark');break;case'dark':document.body.classList.add('dark');break;default:window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(a){switchTheme(a),localStorage.setItem("pref-theme",a)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=a=>{a?setPrefTheme('light'):setPrefTheme('dark')},window.addEventListener('toggle-theme',function(){const a=isDarkTheme();for(const b in toggleThemeCallbacks)toggleThemeCallbacks[b](a)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent('toggle-theme'))}</script>
<script>(function(){const b='dark',a=getPrefTheme(),c=a||b;switchTheme(c)})()</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=http://visionbike.github.io/ accesskey=h title="Visionbike (Alt + H)">
<img src=http://visionbike.github.io/images/apple-touch-icon.png alt=logo aria-label=logo height=35 width=35>Visionbike</a>
<span class=logo-switches>
</span>
</div>
<ul id=menu>
<li>
<a href=http://visionbike.github.io/posts/ title=Posts class=active>Posts
</a>
</li>
<li>
<a href=http://visionbike.github.io/tags/ title=Tags>Tags
</a>
</li>
<li>
<a href=http://visionbike.github.io/archives/ title=Archive>Archive
</a>
</li>
<li>
<a href=http://visionbike.github.io/publish/ title=Publish>Publish
</a>
</li>
<li>
<a href=http://visionbike.github.io/about/ title=About>About
</a>
</li>
<li>
<a href=http://visionbike.github.io/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search
</a>
</li>
</ul>
</nav>
</header>
<main class="main post">
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs><a href=http://visionbike.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://visionbike.github.io/posts/>Posts</a></div><h1 class=post-title>Working With Windows Subsystem for Linux 2 on Windows 11</h1>
<div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg>
<span>July 13, 2023</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select:text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z" style="user-select:text"/><polyline points="14 2 14 8 20 8" style="user-select:text"/><line x1="16" y1="13" x2="8" y2="13" style="user-select:text"/><line x1="16" y1="17" x2="8" y2="17" style="user-select:text"/><polyline points="10 9 9 9 8 9" style="user-select:text"/></svg>
<span>2068 words</span></span><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>10 min</span></span>
</div>
</header> <div class="toc side right">
<details>
<summary accesskey=c title="(Alt + C)">
<span class=details>Table of Contents</span>
</summary>
<div class=inner><ul>
<li>
<a href=#1-pc-requirements aria-label="1. PC Requirements">1. PC Requirements</a></li>
<li>
<a href=#2-install-docker-desktop aria-label="2. Install Docker Desktop">2. Install Docker Desktop</a></li>
<li>
<a href=#3-install-windows-terminal aria-label="3. Install Windows Terminal">3. Install Windows Terminal</a></li>
<li>
<a href=#4-install-windows-subsystem-for-linux-2-wsl-2 aria-label="4. Install Windows Subsystem for Linux 2 (WSL 2)">4. Install Windows Subsystem for Linux 2 (WSL 2)</a></li>
<li>
<a href=#5-working-with-wsl-2 aria-label="5. Working with WSL 2">5. Working with WSL 2</a><ul>
<li>
<a href=#set-a-default-linux-distribution aria-label="Set a Default Linux Distribution">Set a Default Linux Distribution</a></li>
<li>
<a href=#file-system-in-wls-2 aria-label="File System in WLS 2">File System in WLS 2</a></li>
<li>
<a href=#move-or-clone-your-wsl-linux-disk-image aria-label="Move or Clone Your WSL Linux Disk Image">Move or Clone Your WSL Linux Disk Image</a></li>
<li>
<a href=#visual-studio-code-with-wsl-2-integration aria-label="Visual Studio Code with WSL 2 Integration">Visual Studio Code with WSL 2 Integration</a></li></ul>
</li>
<li>
<a href=#conclusion aria-label=Conclusion>Conclusion</a></li>
<li>
<a href=#reference aria-label=Reference>Reference</a>
</li>
</ul>
</div>
</details>
</div>
<div class=post-content><p><strong>Windows Subsystem for Linux (WSL)</strong> is a compatibility layer provided by Microsoft that allows you to run a Linux environment directly on your Windows operating system. It enables you to execute Linux binaries, use Linux command-line tools, and access Linux file systems from within Windows.</p>
<p>When it comes to machine learning (ML) development, WSL offers several advantages:</p>
<ol>
<li>
<p><strong>Linux Compatibility</strong>: Many ML frameworks, libraries, and tools are primarily developed and optimized for Linux systems. By using WSL, you can seamlessly run Linux-specific ML software on your Windows machine without the need for dual-booting or setting up a separate Linux machine.</p>
</li>
<li>
<p><strong>Access to Linux Packages</strong>: WSL provides access to the extensive collection of Linux packages available in various package managers (e.g., APT, YUM, and others). This allows you to easily install and manage Linux dependencies required for your ML projects.</p>
</li>
<li>
<p><strong>Command-Line Tools and Scripts</strong>: ML development often involves working with command-line tools and executing scripts. WSL provides a Linux shell environment, enabling you to run Linux commands and scripts directly on your Windows machine. This ensures compatibility and smooth execution of ML workflows that rely on Linux-specific commands and scripts.</p>
</li>
<li>
<p><strong>Compatibility with Docker</strong>: Docker is widely used in ML development to create isolated environments for running ML applications. WSL provides a seamless integration with Docker, allowing you to run Linux-based Docker containers on your Windows machine without any performance overhead.</p>
</li>
<li>
<p><strong>Consistency across Development Environments</strong>: If you work in a team where some members use Linux for ML development, using WSL allows you to maintain consistency across different development environments. It ensures that code, scripts, and configurations work consistently regardless of the underlying operating system.</p>
</li>
</ol>
<p>By utilizing WSL, you can leverage the power of Linux for ML development while enjoying the convenience of working within the Windows environment. It bridges the gap between Windows and Linux, making it easier to set up and manage a Linux-based ML environment on your Windows machine.</p>
<p>It is important to note that WSL is available in different versions, such as WSL 1 and WSL 2. WSL 2 offers enhanced performance and better integration with the Windows system, making it the recommended choice for ML development. The WSL 2 is fully integrated in Windows 10 build 19041 or Windows 11, so you may consider upgrade your system before install it.</p>
<div class="admonition tip"><p class=admonition-title>Check Windows Version</p>
<p>You can check Window version by going to <strong>Settings > System > About</strong> and scroll down to <strong>Windows specifications</strong>.</p>
</div>
<p>If you plan to work with Linux-based ML frameworks, libraries, or tools, using WSL can significantly streamline your development workflow and ensure compatibility with the wider ML community.</p>
<h2 id=1-pc-requirements>1. PC Requirements<a hidden class=anchor aria-hidden=true href=#1-pc-requirements>¶</a></h2>
<p>WSL 2 uses <strong>Hyper-V</strong> which requires harware virtualization support enabled in your BIOS. To ensure the hardware virtualization is available on your device, you can check by rebooting, pressing <code>DEL</code>, <code>F2</code> or <code>F10</code> (depending on the hardware manufacture) to open the BIOS pannels. Lokking for <strong>Virtualization Technology</strong>, <strong>VTx</strong>, <strong>Secure Virtual Machine (SVM)</strong> or similar options and ensure these options enabled, then reboot the machine.</p>
<details class="admonition info"><summary class=admonition-title>Disable Fast Start-up (Optional)</summary>
<p>Fast start-up saves Windows session and device drivers to a file so the next boot become faster. However, this can cause problems for Linux kernel, which may unresponsive on the next boost. If you encounter this problem, you can disable tthe fast start-up option by <strong>Control Panel > Power Options > Choose what the power buttons do > Change settings that are currently unavailable</strong></p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/power-option.png type alt="Power options"></p>
</details>
<h2 id=2-install-docker-desktop>2. Install Docker Desktop<a hidden class=anchor aria-hidden=true href=#2-install-docker-desktop>¶</a></h2>
<p><strong>Docker Desktop</strong> with WSL 2 provides an efficient and seamless integration between Docker containers and the WSL 2 environment. This combination allows you to run Linux containers directly on your Windows system, leveraging the power of WSL 2.</p>
<p>If you haven&rsquo;t installed Docker Desktop yet, please download and install the Docker Desktop for Windows from the <a href=https://www.docker.com/products/docker-desktop/>Docker website</a>. Installing Docker Desktop on Windows enables docker and docker-compose in both Windows and WSL 2.</p>
<p>Docker Desktop suggests you use WSL 2 when it&rsquo;s first launched. Alternatively, you can select <strong>Settings</strong> from the Docker system tray icon menu, then choose the <strong>General</strong> tab, check <strong>Use the WSL 2 based engine</strong>, and hit <strong>Apply & Restart</strong>. Docker uses the default Linux distro, but you can also enable it in other installed distros from the <strong>WSL Integration</strong> panel in <strong>Settings</strong>, then <strong>Resources</strong>.</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/docker-setting.png type alt="Docker Settings"></p>
<p>Once Docker Desktop is installed, you can verify that it is running correctly by following command from <code>PowerShell</code> or <code>Command Prompt</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>docker</span> <span class=nf>version</span>
</code></pre></div><p>This command displays the Docker version and confirms that Docker is running with WSL 2 integration.</p>
<p>By combining Docker Desktop with WSL 2, you can take advantage of the containerization capabilities of Docker while benefiting from the compatibility and performance enhancements of WSL 2. It allows for efficient development and deployment of applications in a Linux environment, even if you&rsquo;re working on a Windows system.</p>
<h2 id=3-install-windows-terminal>3. Install Windows Terminal<a hidden class=anchor aria-hidden=true href=#3-install-windows-terminal>¶</a></h2>
<p><strong>Windows Terminal</strong> is a powerful and customizable terminal application for Windows that provides a modern and feature-rich command-line experience. It allows you to interact with various shells and command-line tools in a single window, making it convenient for developers and system administrators. It is available from the <strong>Microsoft Store</strong> or it repository at <a href=github.com/microsoft/terminal/>github.com/microsoft/terminal/</a>.</p>
<p>Windows Terminal automatically adds WSL 2 Linux distros when they&rsquo;re installed and offers a configurable range of options including tabs, split views, themes, transparency, and key bindings.</p>
<h2 id=4-install-windows-subsystem-for-linux-2-wsl-2>4. Install Windows Subsystem for Linux 2 (WSL 2)<a hidden class=anchor aria-hidden=true href=#4-install-windows-subsystem-for-linux-2-wsl-2>¶</a></h2>
<p>To display a list of available WSL Linux distros, you can run followinf command in <code>PowerShell</code> in <strong>adminitror mode</strong>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--list</span> <span class=nf>--online</span>
</code></pre></div><p>To install the default Ubuntu distro (the latest version), run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--install</span>
</code></pre></div><p>If you want to install a specific distro by name, such as <code>Ubuntu-22.04</code>, run:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--install</span> <span class=nf>-d</span> <span class=nf>Ubuntu-22.04</span>
</code></pre></div><details class="admonition tip"><summary class=admonition-title>Install WSL Distros from Microsoft Store</summary>
<p>Alternaltively, you can install Linux distro from the <strong>Microsoft Store</strong>.</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/ms-store-wsl-distros.png type alt="Miscroft Store WSL Linux Distros"></p>
</details>
<p>Once the installation is done, you will be prompted to enter a username and password. These are the credentials for Linux administration and completely separately from your Windows username.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=go>Please create a default UNIX user account. The username does not need to match your Windows username.
</span><span class=go>For more information visit: https://aka.ms/wslusers
</span><span class=go>Enter new UNIX username: Visionbike
</span><span class=go>New password:
</span><span class=go>Retype new password:
</span><span class=go>paddwd: password updated successfully
</span><span class=go>Installation successful!
</span></code></pre></div><p>Linux will eventually be ready and your terminal will show content similar to:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=go>To run a command as administrator (user &#34;root&#34;), use &#34;sudo &lt;command&gt;&#34;.
</span><span class=go>See &#34;man sudo_root&#34; for details.
</span><span class=go></span><span class=err>
</span><span class=err></span><span class=go>Welcome to Ubuntu 22.04.2 LTS (GNU/Linux 5.15.90.1-microsoft-standard-WSL2 x86_64)
</span><span class=go></span><span class=err>
</span><span class=err></span><span class=go> * Documentation:  https://help.ubuntu.com
</span><span class=go> * Management:     https://landscape.canonical.com
</span><span class=go> * Support:        https://ubuntu.com/advantage
</span><span class=go></span><span class=err>
</span><span class=err></span><span class=go> * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
</span><span class=go>   just raised the bar for easy, resilient and secure K8s cluster deployment.
</span><span class=go></span><span class=err>
</span><span class=err></span><span class=go>   https://ubuntu.com/engage/secure-kubernetes-at-the-edge
</span><span class=go></span><span class=err>
</span><span class=err></span><span class=go>This message is shown once a day. To disable it please create the
</span><span class=go>/home/visionbike/.hushlogin file.
</span></code></pre></div><p>For the first start, we should to install several Linux updates. The process will depend on the speed of the internet, so be patient if it slow!</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=go>sudo apt update &amp;&amp; sudo apt upgrade
</span></code></pre></div><p>You can also to check for Linux kernel updates from <code>PowerShell</code> running:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--update</span>
</code></pre></div><div class="admonition tip"><p class=admonition-title>Verify WSL 2 Installation</p>
<p>To check if the installation was successful, you can run the following command in <code>PowerShell</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>-l</span> <span class=nf>-v</span>
  <span class=nf>NAME</span>                   <span class=nf>STATE</span>           <span class=nf>VERSION</span>
<span class=nf>*</span> <span class=nf>Ubuntu-22.04</span>           <span class=nf>Running</span>         <span class=mf>2</span>
  <span class=nf>docker-desktop</span>         <span class=nf>Stopped</span>         <span class=mf>2</span>
  <span class=nf>docker-desktop-data</span>    <span class=nf>Stopped</span>         <span class=mf>2</span>
</code></pre></div></div>
<h2 id=5-working-with-wsl-2>5. Working with WSL 2<a hidden class=anchor aria-hidden=true href=#5-working-with-wsl-2>¶</a></h2>
<h3 id=set-a-default-linux-distribution>Set a Default Linux Distribution<a hidden class=anchor aria-hidden=true href=#set-a-default-linux-distribution>¶</a></h3>
<p>If you have more than one WSL Linu distro, you need to set the most frequent used distro as a default one. To set the default distro, run the following command in <strong>PowerShell</strong> temrinal.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--setdefault</span> <span class=p>&lt;</span><span class=nf>DISTRONAME</span><span class=p>&gt;</span>
</code></pre></div><p>where <code>&lt;DISTRONAME></code> is the distro&rsquo;s name you installed.</p>
<h3 id=file-system-in-wls-2>File System in WLS 2<a hidden class=anchor aria-hidden=true href=#file-system-in-wls-2>¶</a></h3>
<p>In WSL 2, the Linux file system is located within the WSL 2 virtual machine. It provides a Linux-compatible file system hierarchy, including the root directory (<code>/</code>) and various standard directories, such as <code>/home</code>, <code>/usr</code>, and <code>/var</code>. These directories and their subdirectories contain the files and directories specific to the Linux environment.</p>
<p>The WSL 2 file system integration ensures that Linux processes can access and manipulate files stored on the Windows file system. This means you can work with files and directories in both the Linux and Windows environments seamlessly. For example, you can create, modify, and delete files from within WSL 2, and those changes will be reflected in the corresponding Windows directories and vice versa.</p>
<p>Windows drives are mounted in the Linux <code>/mnt/</code> directory. For instance, you can access <code>Users</code> folder a <code>C:\User\</code> by running in WSL terminal:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=go>cd /mnt/c/Users/
</span></code></pre></div><p>Noting that accessing Windows files from Linux is considerably slower than using the native Linux file system. Where possible, create projects in the Linux file space, typically in your home folder (<code>/home/&lt;USERNAME></code> or <code>~</code>).</p>
<p>You can also access WSL 2 files from the network path <code>\\wsl$\</code> in Windows&rsquo;s <strong>File Explorer</strong>.</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/file-explorer.png type alt="File Explorer"></p>
<details class="admonition tip"><summary class=admonition-title>Create Linux symbolic link for Windows folder</summary>
<p>For ease of access, you can create a Linux symbolic link to any Windows folder from the terminal. For example, for <code>C:\projects\</code>:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=go>cd ~
</span><span class=go>ln -s /mnt/d/projects/
</span></code></pre></div><p>A <code>projects</code> folder will appear in your Linux home directory. Navigate to it using cd <code>~/project</code> and you&rsquo;ll actually be in <code>/mnt/d/projects/</code>, which maps directly to <code>D:\projects\</code>.</p>
</details>
<h3 id=move-or-clone-your-wsl-linux-disk-image>Move or Clone Your WSL Linux Disk Image<a hidden class=anchor aria-hidden=true href=#move-or-clone-your-wsl-linux-disk-image>¶</a></h3>
<p>WSL Linux disk images are installed on your <code>C:</code> drive in deault. This may occupy a lot of space in the Windows&rsquo;s system drive. Optionally, you can either move it to another drive to free up space on <code>C:</code>, or use the same image to create multiple Linux installations (which can be useful <strong>if you need different applications and setups for different projects</strong> - although Docker may be more practical).</p>
<p>Presume that you are moving the Ubuntu Linux distro to <code>D:\wsl</code>. In a <strong>Powershell</strong> terminal, then export Linux distro you want to move by name to a backup <code>.tar</code> file, such as <code>D:\backup\ubuntu-22.04.tar</code>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>mkdir</span> <span class=nf>D:\backup</span>
<span class=nf>wsl</span> <span class=nf>--expoer</span> <span class=nf>Ubuntu-22.04</span> <span class=nf>D:\backup\ubuntu-22.04.tar</span>
</code></pre></div><p>Then, unregister that distro to remove it by name from the <code>C:</code> drive.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--unregister</span> <span class=nf>Ubuntu-22.04</span>
</code></pre></div><p>You can run <code>wsl -l</code> to verify the distro has been removed. Now, you can import the new WSL 2 distro at another location, such as <code>D:\wsl</code>.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>mkdir</span> <span class=nf>D:\wsl</span>
<span class=nf>wsl</span> <span class=nf>--import</span> <span class=nf>Ubuntu-22.04</span> <span class=nf>D:\wsl\</span> <span class=nf>D:\backup\ubuntu-22.04.tar</span>
</code></pre></div><p>You can make any number of named clones from the same back-up by changing the name of distro after <code>--import</code> argument.</p>
<p>Again, verify the WSL distro has been successfully created by <code>wsl -l</code> command. At this point, Ubuntu will use root as the default user. To revert to your own account, run the following command:</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>ubuntu</span> <span class=nf>config</span> <span class=nf>--default-user</span> <span class=p>&lt;</span><span class=nf>USERNAME</span><span class=p>&gt;</span>
</code></pre></div><p>where <code>&lt;USERNAME></code> is the username you defined before.</p>
<p>For other distros that aren&rsquo;t the WSL2 default distro, you need to log on to the distro and create/edit <code>/etc/wsl.conf</code> file.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-console data-lang=console><span class=go>nano /etc/wsl.conf
</span></code></pre></div><p>Add the following lines to the file</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=o>[</span>user<span class=o>]</span>
<span class=nv>default</span><span class=o>=</span>&lt;USERNAME&gt;
</code></pre></div><p>Save the file, then restart the distro in <strong>PowerShell</strong> terminal.</p>
<div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=nf>wsl</span> <span class=nf>--terminate</span> <span class=p>&lt;</span><span class=nf>DISTRONAME</span><span class=p>&gt;</span>
</code></pre></div><p>where <code>&lt;DISTRONAME></code> is the distro&rsquo;s name you installed. Now you can feel free to delete backup file if you want.</p>
<details class="admonition tip"><summary class=admonition-title>Save & Exit "nano" editor</summary>
<p>To save the file use <code>Ctrl + S</code> combination while <code>Ctrl + X</code> is use to exit the editor in terminal.</p>
</details>
<h3 id=visual-studio-code-with-wsl-2-integration>Visual Studio Code with WSL 2 Integration<a hidden class=anchor aria-hidden=true href=#visual-studio-code-with-wsl-2-integration>¶</a></h3>
<p><a href=https://code.visualstudio.com/><strong>Visual Studio Code (VS Code)</strong></a> permits you to use any Windows or Linux terminal. In VS Code, you need to install <strong>WSL</strong> extension (search in <strong>Extensions</strong> tab). The WSL extension enables you to run VS Code within the WSL.</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/wsl-extension.png type alt="WSL extension"></p>
<p>When the WSL extension si installed, you will see a new <strong>Remote Status</strong> bar item at the far left.</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/remote-status.png type alt="Remote status"></p>
<p>The Remote Status bar item can quickly show you in which context VS Code is running (local or remote).</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/remote-status-activated.png type alt="Remote status activated"></p>
<p>To open new remote WSL window, you can press <code>F1</code> to open <strong>Command Pallete</strong> in VS C and type <strong>WSL</strong> to select the option.</p>
<p><img loading=lazy src=/posts/working-with-wsl2-on-windows11/connect-wsl.png type alt="Connect WSL"></p>
<h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>¶</a></h2>
<p>Working with WSL 2 on Windows 11 offers an improved experience for running Linux applications. With WSL 2, you can seamlessly integrate Windows and Linux environments, allowing you to develop and execute code using Windows tools while leveraging the power of a Linux-based runtime. This integration simplifies web development, eliminates the need for virtual machines, and provides a more efficient workflow. Overall, WSL 2 on Windows 11 offers the benefits of both operating systems, enhancing productivity and making it easier to work with Linux applications on a Windows platform.</p>
<h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>¶</a></h2>
<ul>
<li><a href=https://learn.microsoft.com/en-us/windows/wsl/>Windows Subsystem for Linux Documentation</a>.</li>
<li><a href=https://www.sitepoint.com/wsl2/>Windows Subsystem for Linux 2: The Complete Guide for Windows 10 & 11</a>.</li>
<li><a href=https://code.visualstudio.com/docs/remote/wsl-tutorial>Remote development in WSL</a>.</li>
<li><a href=https://towardsdatascience.com/how-to-create-perfect-machine-learning-development-environment-with-wsl2-on-windows-10-11-2c80f8ea1f31>How to Create a Perfect Machine Learning Development Environment With WSL2 on Windows 10/11</a>.</li>
</ul>
</div>
<footer class=post-footer>
<nav class=paginav>
<a class=prev href=http://visionbike.github.io/posts/create-ml-development-environment-on-windows11-with-wsl2/>
<span class=title>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select:text"><line x1="19" y1="12" x2="5" y2="12" style="user-select:text"/><polyline points="12 19 5 12 12 5" style="user-select:text"/></svg>&nbsp;Prev Page</span>
<br>
<span>Create Machine Learning Development Environment on Windows 11 With WSL 2</span>
</a>
<a class=next href=http://visionbike.github.io/posts/create-ml-development-environment-on-window11/>
<span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg>
</span>
<br>
<span>Create Machine Learning Development Environment on Windows 11</span>
</a>
</nav>
</footer>
<div class=comments-separator></div>
</article>
</main>
<footer class=footer>
<span>&copy; 2023 <a href=http://visionbike.github.io/>Visionbike - Personal Blog of CV | DSP | ML notes</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a>
</span>
<span style=display:inline-block;margin-left:1em>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>(function(){const b='1'=='1';if(b)return;let a=document.getElementById("theme-toggle");a.removeEventListener('click',toggleThemeListener),a.addEventListener('click',toggleThemeListener)})()</script>
<script>(function(){let a=document.getElementById('menu');a&&(a.scrollLeft=localStorage.getItem("menu-scroll-position"),a.onscroll=function(){localStorage.setItem("menu-scroll-position",a.scrollLeft)});const b=''=='1',c='1'=='1';if(window.matchMedia('(prefers-reduced-motion: reduce)').matches||b||c)return;document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})})()</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>if(window.scrollListeners)for(const a of scrollListeners)window.removeEventListener('scroll',a);window.scrollListeners=[]</script>
<script src=/js/medium-zoom.min.js data-no-instant></script>
<script>document.querySelectorAll('pre > code').forEach(b=>{const c=b.parentNode.parentNode,a=document.createElement('button');a.classList.add('copy-code'),a.innerText='copy';function d(){a.innerText='copied!',setTimeout(()=>{a.innerText='copy'},2e3)}a.addEventListener('click',e=>{if('clipboard'in navigator){navigator.clipboard.writeText(b.textContent),d();return}const a=document.createRange();a.selectNodeContents(b);const c=window.getSelection();c.removeAllRanges(),c.addRange(a);try{document.execCommand('copy'),d()}catch(a){}c.removeRange(a)}),c.classList.contains("highlight")?c.appendChild(a):c.parentNode.firstChild==c||(b.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?b.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(a):b.parentNode.appendChild(a))})</script>
<script>(function(){const h='1'=='1';if(!h)return;if(!document.querySelector('.toc')){console.log('no toc found, ignore toc scroll');return}const i=window.scrollListeners,c=document.querySelectorAll('h1[id],h2[id],h3[id],h4[id],h5[id]'),d='active';let a=c[0];e(a).classList.add(d);const g=()=>{const b=[];for(const a of c)if(j(a)<5)b.push(a);else break;b.length>0?newActiveHeading=b[b.length-1]:newActiveHeading=c[0],a!=newActiveHeading&&(e(a).classList.remove(d),a=newActiveHeading,e(a).classList.add(d))};let b=null;const f=()=>{b!==null&&clearTimeout(b),b=setTimeout(g,50)};window.addEventListener('scroll',f,!1),i.push(f);function e(a){const b=encodeURI(a.getAttribute('id')).toLowerCase();return document.querySelector(`.toc ul li a[href="#${b}"]`)}function j(a){if(!a.getClientRects().length)return 0;let b=a.getBoundingClientRect();return b.top}})()</script>
<script>mediumZoom('.entry-cover img'),mediumZoom('.post-content img:not([no-zoom])')</script>
<script src=/js/instantclick.min.js data-no-instant></script>
<script data-no-instant>InstantClick.init()</script>
</body>
</html>