<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Create Machine Learning Development Environment on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes</title>
<meta name=keywords content><meta name=description content="In this post, I will cover the setup of machine learning development environment on both Windows 11. I assume that you have a CUDA-compatible GPU alredy installed on your PC.
To ensure a smooth setup process, it is crucial that you follow the steps in the specified order. Let&rsquo;s begin with the software installations:
NVIDIA Drivers. Microsoft Visual Studio 2022 (Community version). NVIDIA CUDA Toolkit. NVIDIA cuDNN. Mambaforge (similar to Anaconda for Python)."><meta name=author content="Visionbike"><link rel=canonical href=http://visionbike.github.io/posts/create-ml-development-environment-on-window11/><link crossorigin=anonymous href=/assets/css/stylesheet.min.e1b935db682e03ab6b85340248217a2690fbf8037fb8cfb8fdb4307e565f1534.css integrity="sha256-4bk122guA6trhTQCSCF6JpD7+AN/uM+4/bQwflZfFTQ=" rel="preload stylesheet" as=style><link rel=icon type=image/png href=/images/favicon.ico><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png><link rel=alternate hreflang=en href=http://visionbike.github.io/posts/create-ml-development-environment-on-window11/><meta name=twitter:title content="Create Machine Learning Development Environment on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes"><meta name=twitter:description content="In this post, I will cover the setup of machine learning development environment on both Windows 11. I assume that you have a CUDA-compatible GPU alredy installed on your PC.
To ensure a smooth setup process, it is crucial that you follow the steps in the specified order. Let&rsquo;s begin with the software installations:
NVIDIA Drivers. Microsoft Visual Studio 2022 (Community version). NVIDIA CUDA Toolkit. NVIDIA cuDNN. Mambaforge (similar to Anaconda for Python)."><meta property="og:title" content="Create Machine Learning Development Environment on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes"><meta property="og:description" content="In this post, I will cover the setup of machine learning development environment on both Windows 11. I assume that you have a CUDA-compatible GPU alredy installed on your PC.
To ensure a smooth setup process, it is crucial that you follow the steps in the specified order. Let&rsquo;s begin with the software installations:
NVIDIA Drivers. Microsoft Visual Studio 2022 (Community version). NVIDIA CUDA Toolkit. NVIDIA cuDNN. Mambaforge (similar to Anaconda for Python)."><meta property="og:type" content="article"><meta property="og:url" content="http://visionbike.github.io/posts/create-ml-development-environment-on-window11/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2023-07-06T12:41:36+08:00"><meta property="article:modified_time" content="2023-07-06T12:41:36+08:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"http://visionbike.github.io/posts/"},{"@type":"ListItem","position":2,"name":"Create Machine Learning Development Environment on Windows 11","item":"http://visionbike.github.io/posts/create-ml-development-environment-on-window11/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Create Machine Learning Development Environment on Windows 11 | Visionbike - Personal Blog of CV | DSP | ML notes","name":"Create Machine Learning Development Environment on Windows 11","description":"In this post, I will cover the setup of machine learning development environment on both Windows 11. I assume that you have a CUDA-compatible GPU alredy installed on your PC.\nTo ensure a smooth setup process, it is crucial that you follow the steps in the specified order. Let\u0026rsquo;s begin with the software installations:\nNVIDIA Drivers. Microsoft Visual Studio 2022 (Community version). NVIDIA CUDA Toolkit. NVIDIA cuDNN. Mambaforge (similar to Anaconda for Python).","keywords":[],"wordCount":"1111","inLanguage":"en","datePublished":"2023-07-06T12:41:36+08:00","dateModified":"2023-07-06T12:41:36+08:00","author":{"@type":"Person","name":"Visionbike"},"mainEntityOfPage":{"@type":"WebPage","@id":"http://visionbike.github.io/posts/create-ml-development-environment-on-window11/"},"publisher":{"@type":"Organization","name":"Visionbike - Personal Blog of CV | DSP | ML notes","logo":{"@type":"ImageObject","url":"http://visionbike.github.io/favicon.ico"}}}</script><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><link rel=stylesheet href=lib/fontawesome-free/all.min.css></head><body class="dark type-posts kind-page layout-" id=top><script data-no-instant>function switchTheme(e){switch(e){case"light":document.body.classList.remove("dark");break;case"dark":document.body.classList.add("dark");break;default:window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")}}function isDarkTheme(){return document.body.className.includes("dark")}function getPrefTheme(){return localStorage.getItem("pref-theme")}function setPrefTheme(e){switchTheme(e),localStorage.setItem("pref-theme",e)}const toggleThemeCallbacks={};toggleThemeCallbacks.main=e=>{setPrefTheme(e?"light":"dark")},window.addEventListener("toggle-theme",function(){const e=isDarkTheme();for(const t in toggleThemeCallbacks)toggleThemeCallbacks[t](e)});function toggleThemeListener(){window.dispatchEvent(new CustomEvent("toggle-theme"))}</script><script>(function(){const t="dark",e=getPrefTheme(),n=e||t;switchTheme(n)})()</script><script>document.addEventListener("DOMContentLoaded",function(){var e=document.querySelectorAll(".command code");e.forEach(function(e){var t=e.textContent.split(`
`);e.textContent="",t.forEach(function(n,s){n.trim()!==""&&(e.innerHTML+='<span class="prompt">$</span> '+n,s!==t.length-1&&(e.innerHTML+="<br>"))})})})</script><header class=header><nav class=nav><div class=logo><a href=http://visionbike.github.io/ accesskey=h title="Visionbike (Alt + H)"><img src=http://visionbike.github.io/images/apple-touch-icon.png alt=logo aria-label=logo height=35 width=35>Visionbike</a>
<span class=logo-switches></span></div><ul id=menu><li><a href=http://visionbike.github.io/posts/ title=Posts class=active>Posts</a></li><li><a href=http://visionbike.github.io/tags/ title=Tags>Tags</a></li><li><a href=http://visionbike.github.io/archives/ title=Archive>Archive</a></li><li><a href=http://visionbike.github.io/publish/ title=Publish>Publish</a></li><li><a href=http://visionbike.github.io/about/ title=About>About</a></li><li><a href=http://visionbike.github.io/search/ title="Search (Alt + /)" data-no-instant accesskey=/>Search</a></li></ul></nav></header><main class="main post"><article class=post-single><header class=post-header><div class=breadcrumbs><a href=http://visionbike.github.io/>Home</a>&nbsp;»&nbsp;<a href=http://visionbike.github.io/posts/>Posts</a></div><h1 class=post-title>Create Machine Learning Development Environment on Windows 11</h1><div class=post-meta><span class=meta-item><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar" style="user-select:text"><rect x="3" y="4" width="18" height="18" rx="2" ry="2" style="user-select:text"/><line x1="16" y1="2" x2="16" y2="6" style="user-select:text"/><line x1="8" y1="2" x2="8" y2="6" style="user-select:text"/><line x1="3" y1="10" x2="21" y2="10" style="user-select:text"/></svg>
<span>July 6, 2023</span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text" style="user-select:text"><path d="M14 2H6A2 2 0 004 4v16a2 2 0 002 2h12a2 2 0 002-2V8z" style="user-select:text"/><polyline points="14 2 14 8 20 8" style="user-select:text"/><line x1="16" y1="13" x2="8" y2="13" style="user-select:text"/><line x1="16" y1="17" x2="8" y2="17" style="user-select:text"/><polyline points="10 9 9 9 8 9" style="user-select:text"/></svg>
<span>1111 words</span></span><span class=meta-item>
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke="currentcolor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<span>6 min</span></span></div></header><div class="toc side right"><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#1-install-nvida-drivers aria-label="1. Install NVIDA Drivers">1. Install NVIDA Drivers</a></li><li><a href=#2-install-visual-studio-2022-community aria-label="2. Install Visual Studio 2022 Community">2. Install Visual Studio 2022 Community</a></li><li><a href=#3-install-nvidia-cuda-toolkit aria-label="3. Install NVIDIA CUDA Toolkit.">3. Install NVIDIA CUDA Toolkit.</a></li><li><a href=#3-install-nvidia-cudnn aria-label="3. Install NVIDIA cuDNN">3. Install NVIDIA cuDNN</a></li><li><a href=#4-install-mambaforge-for-windows aria-label="4. Install Mambaforge for Windows">4. Install Mambaforge for Windows</a></li><li><a href=#conclusion aria-label=Conclusion>Conclusion</a></li><li><a href=#reference aria-label=Reference>Reference</a></li></ul></div></details></div><div class=post-content><p>In this post, I will cover the setup of machine learning development environment on both Windows 11. I assume that you have a CUDA-compatible GPU alredy installed on your PC.</p><p>To ensure a smooth setup process, it is crucial that you follow the steps in the specified order. Let&rsquo;s begin with the software installations:</p><ul><li>NVIDIA Drivers.</li><li>Microsoft Visual Studio 2022 (Community version).</li><li>NVIDIA CUDA Toolkit.</li><li>NVIDIA cuDNN.</li><li>Mambaforge (similar to Anaconda for Python).</li></ul><p>However, if you previously had NVIDIA drivers installed on your computer, it is essential to uninstall all NVIDIA applications before proceeding further. To uninstall the NVIDIA applications, follow these steps:</p><ol><li>Open the &ldquo;Install Apps&rdquo; on your Windows 11 PC.</li><li>Scroll down untill you find NVIDIA applications. <img loading=lazy src=/posts/create-ml-development-environment-on-window11/nvidia-apps-list.png type alt="NVIDIA apps list"></li><li>Click to &ldquo;&mldr;&rdquo; button on the right and uninstall all NVIDIA GPU drivers and any associated software. <img loading=lazy src=/posts/create-ml-development-environment-on-window11/nvidia-app-uninstall.png type alt="NVIDIA app uninstall"></li></ol><h2 id=1-install-nvida-drivers>1. Install NVIDA Drivers<a hidden class=anchor aria-hidden=true href=#1-install-nvida-drivers>¶</a></h2><p>To install the latest NVIDA drivers on Windows, you can utilize <a href=https://www.nvidia.com/en-gb/geforce/geforce-experience/><strong>GeForce Experience</strong></a>, which ease the installation process.</p><p>Once you have completed downloading <strong>GeForce Experience</strong>, launch it and you can get start.</p><div class="admonition info"><p class=admonition-title>Info</p><p>Upon launching, you will be prompted to log in to your <strong>NVIDIA account</strong>. If you don&rsquo;t have an account already, you can create one.</p></div><p>There are two options for the installation:</p><ul><li><strong>Experess Installation</strong>: This option will automatically determine which drivers you need and then install them without requesting permission.</li><li><strong>Custom Installation</strong>: This option gives you more control over the installation process. You can choose additional options and settings based on your preferences. Furthermore, a &lsquo;clean installation&rsquo; option may be presented, allowing you to restore all settings to their default values and remove any previously created profiles. <img loading=lazy src=/posts/create-ml-development-environment-on-window11/nvidia-custom-install.jpg type alt="NVIDIA custom install"></li></ul><p>After the installation is complete, your NVIDIA graphics card drivers will be set up on your Windows system.</p><h2 id=2-install-visual-studio-2022-community>2. Install Visual Studio 2022 Community<a hidden class=anchor aria-hidden=true href=#2-install-visual-studio-2022-community>¶</a></h2><p>Visual Studio is required for the installation of the NVIDIA CUDA Toolkit. If you try to install NVIDIA CUDA Toolkit for Windows without installing Visual Studio, you will get the following error when downloading CUDA Toolkit.</p><p>You can install the latest version of <a href="https://visualstudio.microsoft.com/thank-you-downloading-visual-studio/?sku=Community">Visual Studio Community</a>, selecting the <strong>Desktop development with C++</strong> workload shown in the image below. <img loading=lazy src=/posts/create-ml-development-environment-on-window11/visual-studio-install.png type alt="Visual Studio Install"></p><p>If you already have an installation ensure that the correct workload is installed and that you have updated to the latest version.</p><h2 id=3-install-nvidia-cuda-toolkit>3. Install NVIDIA CUDA Toolkit.<a hidden class=anchor aria-hidden=true href=#3-install-nvidia-cuda-toolkit>¶</a></h2><p>To get the latest version of NVIDIA CUDA Toolkit, you can visit the <a href=https://developer.nvidia.com/cuda-downloads>NVIDIA Developer website for CUDA Toolkit</a>. You can also download previous versions from the <a href=https://developer.nvidia.com/cuda-toolkit-archive>Archive of Previous CUDA Releases</a> under the Resources section on the same page given above.</p><p>On the CUDA Toolkit dowload page, choose the appropriate CUDA Toolkit version based on your operating system (Windows) and architecture (x86_64 for most systems). <img loading=lazy src=/posts/create-ml-development-environment-on-window11/download-cuda-toolkit.png type alt="Download CUDA Toolkit"></p><p>Once the download is complete, locate the downloaded CUDA Toolkit installer file and double-click on it to start the installation process. Follow the on-screen instructions provided by the installer.</p><ul><li>Choose the installation location on your system.</li><li>Select the components you want to install. It is recommended to include the CUDA Toolkit, CUDA Samples, and CUDA Visual Studio Integration if you are using Visual Studio for development.</li><li>Choose the appropriate options based on your preferences during the installation process.</li></ul><p><img loading=lazy src=/posts/create-ml-development-environment-on-window11/nvidia-cuda-toolkit-install.png type alt="NVIDIA CUDA Toolkit install"></p><p>After the installation is complete, you may need to set up environment variables to ensure that your system recognizes the CUDA Toolkit.</p><ul><li>Open the Start menu and search for &ldquo;Environment Variables&rdquo;.</li><li>Select &ldquo;Edit the system environment variables&rdquo;.</li><li>In the System Properties window, click on the &ldquo;Environment Variables&rdquo; button.</li><li>Under &ldquo;System variables&rdquo;, click on &ldquo;New&rdquo; to add a new variable.</li><li>Set the variable name as <code>CUDA_PATH</code> and the variable value as the installation path of the CUDA Toolkit (e.g., <code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v&lt;version></code>). <img loading=lazy src=/posts/create-ml-development-environment-on-window11/nvidia-cuda-path.png type alt="NVIDIA CUDA path"></li></ul><div class="admonition info"><p class=admonition-title>Verify Installation</p><p>You can verify the installation by opening a command prompt and running the following command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=line><span class=cl><span class=nf>nvcc</span> <span class=nf>--version</span>
</span></span></code></pre></div><p>If the installation was successful, you should see the CUDA version information displayed.</p></div><p>The NVIDIA CUDA Toolkit is now installed on your system. This toolkit provides the necessary libraries, compilers, and tools for developing and running CUDA-accelerated applications and machine learning models.</p><h2 id=3-install-nvidia-cudnn>3. Install NVIDIA cuDNN<a hidden class=anchor aria-hidden=true href=#3-install-nvidia-cudnn>¶</a></h2><p>uDNN (CUDA Deep Neural Network Library) is a GPU-accelerated library developed by NVIDIA specifically designed and colaborated withNVIDA CUDA Toolkit to accelerate deep neural network computations. By utilizing cuDNN, deep learning frameworks can leverage the parallel processing capabilities of NVIDIA GPUs, leading to significant speed improvements in training and inference of deep neural networks.</p><p>To download the latest version of NVIDIA cuDNN, you can visit <a href=https://developer.nvidia.com/rdp/cudnn-download>NVIDIA Developer website for CUDA cuDNN</a>. On the cuDNN page, you will need to create or log in to your NVIDIA Developer account in order to access the cuDNN download files. If you don&rsquo;t have an account, you can create one for free.</p><p>Once you are logged in, choose the appropriate cuDNN version based on your CUDA Toolkit version and operating system. Make sure to select the version that is compatible with your installed CUDA Toolkit.</p><p><img loading=lazy src=/posts/create-ml-development-environment-on-window11/download-cudnn.png type alt="Download cuDNN"></p><p>After the download is complete, locate the downloaded cuDNN package file and extract its contents to a desired location on your system. The extracted package will contain several files and folders, including the <code>bin</code>, <code>include</code>, and <code>lib</code> directories.</p><p><img loading=lazy src=/posts/create-ml-development-environment-on-window11/nvidia-cudnn.png type alt="NVIDIA cuDNN"></p><p>Copy these folder from the extracted cuDNN package to the corresponding directories in your CUDA Toolkit installation, i.e., <code>C:\Program Files\NVIDIA GPU Computing Toolkit\CUDA\v&lt;version></code>.</p><p>After copying the files, cuDNN is successfully installed and integrated with your CUDA Toolkit.</p><p>Finally, You need to set the variable name as <code>CUDNN</code> and the variable value as the installation paths of the cuDNN folders. You also add these path to &ldquo;System variables&rdquo;&rsquo;s Path</p><p><img loading=lazy src=/posts/create-ml-development-environment-on-window11/cudnn-paths.png type alt="cuDNN paths"></p><h2 id=4-install-mambaforge-for-windows>4. Install Mambaforge for Windows<a hidden class=anchor aria-hidden=true href=#4-install-mambaforge-for-windows>¶</a></h2><p><a href=https://mamba.readthedocs.io/en/latest/index.html>Mambaforge</a> is a distribution of the Python programming language that serves as an alternative to Anaconda. It provides a comprehensive environment for scientific computing and data science, offering a collection of pre-installed packages commonly used in these domains.</p><p>Mambaforge is designed to facilitate package management and create isolated Python environments for different projects.</p><p>You can download the Windows version from <a href=https://github.com/conda-forge/miniforge#mambaforge>this link</a> and start installing.</p><p>Once the installation is complete, add the Mambaforge installation directory to the &ldquo;User Variable&rdquo;&rsquo;s Path.</p><p><img loading=lazy src=/posts/create-ml-development-environment-on-window11/mambaforge-paths.png type alt="Mambaforge paths"></p><div class="admonition info"><p class=admonition-title>Verify Installation</p><p>You can verify the installation by opening a command prompt and running the following command.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ps data-lang=ps><span class=line><span class=cl><span class=nf>mamba</span> <span class=nf>--version</span>
</span></span></code></pre></div><p>If the installation was successful, you should see the Mambaforge version information displayed.</p></div><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>¶</a></h2><p>By following these steps and installing the required software, you will have a machine learning development environment set up on your Windows 11 system. This environment will provide the necessary tools and libraries for GPU-accelerated computing and Python package management.</p><h2 id=reference>Reference<a hidden class=anchor aria-hidden=true href=#reference>¶</a></h2><ul><li><a href=https://medium.com/geekculture/install-cuda-and-cudnn-on-windows-linux-52d1501a8805>Install CUDA and CUDNN on Windows & Linux</a>.</li><li><a href=https://medium.com/@Gunter-Pearson/installing-latest-tensorflow-version-with-cuda-cudnn-and-gpu-support-on-windows-11-pc-e41fac5c5795>Installing Latest TensorFlow version with CUDA, cudNN and GPU support on Windows 11 PC</a>.</li><li>Microsoft Visual Studio: <a href=https://visualstudio.microsoft.com/free-developer-offers/>https://visualstudio.microsoft.com/free-developer-offers/</a>.</li><li>NVIDIA CUDA Toolkit: <a href=https://developer.nvidia.com/cuda-toolkit>https://developer.nvidia.com/cuda-toolkit</a>.</li><li>NVIDIA cuDNN: <a href=https://developer.nvidia.com/cudnn>https://developer.nvidia.com/cudnn</a>.</li><li>Mambaforge: <a href=https://github.com/conda-forge/miniforge#mambaforge>https://github.com/conda-forge/miniforge#mambaforge</a></li></ul></div><footer class=post-footer><nav class=paginav><a class=prev href=http://visionbike.github.io/posts/working-with-wsl2-on-windows11/><span class=title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-left" style="user-select:text"><line x1="19" y1="12" x2="5" y2="12" style="user-select:text"/><polyline points="12 19 5 12 12 5" style="user-select:text"/></svg>&nbsp;Prev Page</span><br><span>Working With Windows Subsystem for Linux 2 on Windows 11</span>
</a><a class=next href=http://visionbike.github.io/posts/setting-up-personal-blog-with-hugo-and-gh-pages/><span class=title>Next Page&nbsp;<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-arrow-right" style="user-select:text"><line x1="5" y1="12" x2="19" y2="12" style="user-select:text"/><polyline points="12 5 19 12 12 19" style="user-select:text"/></svg></span><br><span>Setting Up a Personal Blog With Hugo and GitHub Pages</span></a></nav></footer><div class=comments-separator></div></article></main><footer class=footer><span>&copy; 2024 <a href=http://visionbike.github.io/>Visionbike - Personal Blog of CV | DSP | ML notes</a></span><span style=display:inline-block;margin-left:1em>
<a href=https://creativecommons.org/licenses/by-sa/4.0/>CC BY-SA</a>
</span><span style=display:inline-block;margin-left:1em>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
    <a href=https://github.com/reorx/hugo-PaperModX/ rel=noopener target=_blank>PaperModX</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>(function(){const t="1"=="1";if(t)return;let e=document.getElementById("theme-toggle");e.removeEventListener("click",toggleThemeListener),e.addEventListener("click",toggleThemeListener)})()</script><script>(function(){let e=document.getElementById("menu");e&&(e.scrollLeft=localStorage.getItem("menu-scroll-position"),e.onscroll=function(){localStorage.setItem("menu-scroll-position",e.scrollLeft)});const t=""=="1",n="1"=="1";if(window.matchMedia("(prefers-reduced-motion: reduce)").matches||t||n)return;document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})})()</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>if(window.scrollListeners)for(const e of scrollListeners)window.removeEventListener("scroll",e);window.scrollListeners=[]</script><script src=/js/medium-zoom.min.js data-no-instant></script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerText="copy";function s(){t.innerText="copied!",setTimeout(()=>{t.innerText="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script><script>(function(){const a="1"=="1";if(!a)return;if(!document.querySelector(".toc")){console.log("no toc found, ignore toc scroll");return}const r=window.scrollListeners,t=document.querySelectorAll("h1[id],h2[id],h3[id],h4[id],h5[id]"),n="active";let e=t[0];o(e).classList.add(n);const c=()=>{const s=[];for(const e of t)if(l(e)<5)s.push(e);else break;s.length>0?newActiveHeading=s[s.length-1]:newActiveHeading=t[0],e!=newActiveHeading&&(o(e).classList.remove(n),e=newActiveHeading,o(e).classList.add(n))};let s=null;const i=()=>{s!==null&&clearTimeout(s),s=setTimeout(c,50)};window.addEventListener("scroll",i,!1),r.push(i);function o(e){const t=encodeURI(e.getAttribute("id")).toLowerCase();return document.querySelector(`.toc ul li a[href="#${t}"]`)}function l(e){if(!e.getClientRects().length)return 0;let t=e.getBoundingClientRect();return t.top}})()</script><script>mediumZoom(".entry-cover img"),mediumZoom(".post-content img:not([no-zoom])")</script><script src=/js/instantclick.min.js data-no-instant></script><script data-no-instant>InstantClick.init()</script></body></html>